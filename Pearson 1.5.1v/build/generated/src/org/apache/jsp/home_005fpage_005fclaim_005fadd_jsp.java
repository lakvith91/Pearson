package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.List;
import com.mongodb.BasicDBList;
import java.util.Iterator;
import java.util.ArrayList;
import com.beans.Claims;
import com.mongodb.DBObject;
import com.mongodb.DBCursor;
import com.mongodb.BasicDBObject;
import com.mongodb.DBCollection;
import com.dbops.DBcon;
import com.beans.Employee;

public final class home_005fpage_005fclaim_005fadd_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.Vector _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public Object getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html lang=\"en\">\n");
      out.write("    <head>\n");
      out.write("        <meta charset=\"utf-8\">\n");
      out.write("        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n");
      out.write("\n");
      out.write("        <title>Person Claim Management System Employee View</title>\n");
      out.write("\n");
      out.write("        <!-- For shortcut icon -->\n");
      out.write("        <link rel=\"shortcut icon\" href=\"images/logo.png\">        \n");
      out.write("\n");
      out.write("        <!-- Link for CSS files-->\n");
      out.write("        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/bootstrap.min.css\" >\n");
      out.write("        <link rel=\"stylesheet\" type=\"text/css\" href=\"font-awesome/css/font-awesome.min.css\" >\n");
      out.write("        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/admin_view.css\" >\n");
      out.write("        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/date_picker.css\" >\n");
      out.write("        <link rel=\"stylesheet\" href=\"css/date_picker.css\">\n");
      out.write("\n");
      out.write("        <!-- Link for javascript-->\n");
      out.write("        <script type=\"text/javascript\" src=\"js/jquery-1.10.2.min.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"js/bootstrap.min.js\"></script>\n");
      out.write("\n");
      out.write("        <!-- Load jQuery and bootstrap datepicker scripts -->\n");
      out.write("        <script src=\"js/jQuery v1.9.1.js\"></script>\n");
      out.write("        <script src=\"js/boostrap_datepicker.js\"></script>\n");
      out.write("\n");
      out.write("        <script type=\"text/javascript\">\n");
      out.write("\n");
      out.write("            // for data calendar\n");
      out.write("            $(document).ready(function() {\n");
      out.write("\n");
      out.write("                $('#event_date').datepicker({\n");
      out.write("                    format: \"dd/mm/yyyy\"\n");
      out.write("                });\n");
      out.write("                $('#bill_date').datepicker({\n");
      out.write("                    format: \"dd/mm/yyyy\"\n");
      out.write("                });\n");
      out.write("\n");
      out.write("            });\n");
      out.write("\n");
      out.write("            //for image adding\n");
      out.write("            var xx = 0;\n");
      out.write("\n");
      out.write("            function show_pic(input) {\n");
      out.write("                //alert(input.files[0]);\n");
      out.write("                if (input.files && input.files[0]) {\n");
      out.write("                    var reader = new FileReader();\n");
      out.write("                    //alert(xx);\n");
      out.write("                    reader.onload = function(e) {\n");
      out.write("                        xx++;\n");
      out.write("                        $('#reg_pro_pic' + xx).attr('src', e.target.result);\n");
      out.write("                    }\n");
      out.write("\n");
      out.write("                    reader.readAsDataURL(input.files[0]);\n");
      out.write("                }\n");
      out.write("                // alert(input.files[0]);\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            //for hide and show div tags\n");
      out.write("            function add_details() {\n");
      out.write("\n");
      out.write("                var details = document.getElementById(\"emp_details\").innerHTML;\n");
      out.write("                document.getElementById(\"setHere\").innerHTML = details;\n");
      out.write("\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            function addEmployeDetails() {                                      //get a additional form input for group type input radio btn\n");
      out.write("\n");
      out.write("                var details = document.getElementById(\"emp_details\").innerHTML; //for visible the details of group claims when choose group clim radio buuton\n");
      out.write("                document.getElementById(\"setHere\").innerHTML = details;\n");
      out.write("                \n");
      out.write("                document.getElementById(\"internetDiv\").style.display = 'none';  // for non visible internet radio button and label\n");
      out.write("                document.getElementById(\"setHere\").style.display = 'block';     // for visible the additional claim details for group biils   \n");
      out.write("\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            function hideEmployeeDetails() {\n");
      out.write("\n");
      out.write("                document.getElementById(\"setHere\").style.display = 'none';      // for non  visible the additional claim details for group biils  \n");
      out.write("                document.getElementById(\"internetDiv\").style.display = 'block'; // for visible internet radio button and label\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            function hideMealsType() {\n");
      out.write("                document.getElementById(\"mealsType\").style.display = 'none';    //for hide the meal type row\n");
      out.write("                document.getElementById(\"setOptinal\").style.display = 'none';   //for non visible the type of row\n");
      out.write("\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            function showMealsType() {\n");
      out.write("                document.getElementById(\"mealsType\").style.display = 'block';   //for visible the type of row\n");
      out.write("                document.getElementById(\"setOptinal\").style.display = 'none';   //for non visible the type of row\n");
      out.write("            }\n");
      out.write("\n");
      out.write("\n");
      out.write("            function otherType() {\n");
      out.write("                document.getElementById(\"setOptinal\").style.display = 'block';  //for visible the type of row\n");
      out.write("\n");
      out.write("                var detailsOptinalClaimType = document.getElementById(\"optionalClaimType\").innerHTML; //for set the optinal div to the set optinal div\n");
      out.write("                document.getElementById(\"setOptinal\").innerHTML = detailsOptinalClaimType;\n");
      out.write("\n");
      out.write("                document.getElementById(\"mealsType\").style.display = 'none';    //for non visible the type of row\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            //for dynamic table create for group claims employee details adding\n");
      out.write("            var count = 0;\n");
      out.write("            function addRow() {\n");
      out.write("\n");
      out.write("                count++;\n");
      out.write("\n");
      out.write("                var emloyeesid = document.getElementById(\"employeesId\");        //set input value to varible\n");
      out.write("                var table = document.getElementById(\"myTableData\");\n");
      out.write("\n");
      out.write("                var rowCount = table.rows.length;\n");
      out.write("                var row = table.insertRow(rowCount);\n");
      out.write("\n");
      out.write("                row.setAttribute('id', 'row_' + count);                         //set row id & name\n");
      out.write("                row.setAttribute('name', 'row_' + count);\n");
      out.write("\n");
      out.write("                row.insertCell(0).innerHTML = (rowCount - 1);                   //insert no to the cell 1 in column 1\n");
      out.write("\n");
      out.write("                var cell1 = row.insertCell(1);\n");
      out.write("                var element1 = document.createElement(\"p\");\n");
      out.write("                element1.setAttribute('name', 'empid_' + count);\n");
      out.write("                element1.setAttribute('id', 'empid_' + count);                  //set paragraph id & name\n");
      out.write("                var temp = cell1.appendChild(element1);\n");
      out.write("\n");
      out.write("                temp.innerHTML = emloyeesid.value;                              //insert cell 2 column 2\n");
      out.write("\n");
      out.write("                row.insertCell(2).innerHTML = '<a class=\"btn btn-default btn-sm\" onClick=\"Javacsript:deleteRow(this)\">Delete</a>';//insert cell 3 column 3\n");
      out.write("\n");
      out.write("                //var element1=document.createElement(\"input\");element1.type=\"text\";element1.name=\"chkbox[]\";element1.value=count;\n");
      out.write("                var a = $('#row_' + count).html();\n");
      out.write("                window.alert(a);\n");
      out.write("\n");
      out.write("                var b = $('#empid_' + count).html();\n");
      out.write("                window.alert(b);\n");
      out.write("\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            function deleteRow(obj) {                                           //to delete table row\n");
      out.write("\n");
      out.write("                var index = obj.parentNode.parentNode.rowIndex;\n");
      out.write("                var table = document.getElementById(\"myTableData\");\n");
      out.write("                var rowCount=table.rows.length;\n");
      out.write("                for(var i=0;i<rowCount;i++){\n");
      out.write("                    table.deleteRow(index);\n");
      out.write("                    rowCount--;\n");
      out.write("                    i--;\n");
      out.write("                    count--;\n");
      out.write("                }\n");
      out.write("            }    \n");
      out.write("            //Window confirmation when new cliam click event\n");
      out.write("            function newclaim() {\n");
      out.write("                var ask = window.confirm(\"sedddddd?\");\n");
      out.write("               \n");
      out.write("                if (ask) {\n");
      out.write("                   \n");
      out.write("                    var xmlhttp;\n");
      out.write("                    if (window.XMLHttpRequest)\n");
      out.write("                    {xmlhttp=new XMLHttpRequest();}\n");
      out.write("                    else\n");
      out.write("                    {xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");}\n");
      out.write("                    xmlhttp.onreadystatechange=function() {\n");
      out.write("                        if (xmlhttp.readyState==4 && xmlhttp.status==200)\n");
      out.write("                        {\n");
      out.write("                            document.getElementById(\"content\").innerHTML=xmlhttp.responseText;\n");
      out.write("                            \n");
      out.write("                        }\n");
      out.write("                    }\n");
      out.write("                    window.alert(\"hi\");\n");
      out.write("                    xmlhttp.open(\"POST\",\"AddNewClaim\",true);\n");
      out.write("                    xmlhttp.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");\n");
      out.write("                    xmlhttp.send().value;\n");
      out.write("                    document.location.href = \"home_page_claim_add.jsp\";\n");
      out.write("                    \n");
      out.write("                }else{\n");
      out.write("                    //window.alert(\"New Claim Created !\");\n");
      out.write("                    document.location.href =\"home_page.jsp\";\n");
      out.write("                }\n");
      out.write("            }\n");
      out.write("            \n");
      out.write("        </script>\n");
      out.write("    </head>\n");
      out.write("\n");
      out.write("    <body>\n");
      out.write("\n");
      out.write("        ");


            if (request.getSession().getAttribute("user") == null) {
                response.sendRedirect("index.jsp");
            }
            Employee e = (Employee) request.getSession().getAttribute("user");

            Claims c = (Claims) request.getSession().getAttribute("c");

            DBcon dbcon = new DBcon();
            dbcon.getDbCon();// setup the database connection
            DBCollection coll = dbcon.getData("claims");

            BasicDBObject basic = new BasicDBObject();

            List<BasicDBObject> sl = new ArrayList<BasicDBObject>();
            sl.add(new BasicDBObject("empid", e.getEmpId()));
            sl.add(new BasicDBObject("claimid", c.getClaimId()));
            basic.put("$and", sl);

            DBCursor cursor = coll.find(basic);


        
      out.write("\n");
      out.write("\n");
      out.write("        <div id=\"wrapper\">\n");
      out.write("\n");
      out.write("            <!-- Nav bar Start-->          \n");
      out.write("            <nav class=\"navbar navbar-inverse navbar-fixed-top\" role=\"navigation\">            \n");
      out.write("                <div class=\"navbar-header\">\n");
      out.write("                    <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-ex1-collapse\">\n");
      out.write("                        <span class=\"sr-only\">Toggle navigation</span>\n");
      out.write("                        <span class=\"icon-bar\"></span>\n");
      out.write("                        <span class=\"icon-bar\"></span>\n");
      out.write("                        <span class=\"icon-bar\"></span>\n");
      out.write("                    </button>\n");
      out.write("                    <a class=\"navbar-brand\" href=\"home_page.jsp\">PEARSON</a>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"collapse navbar-collapse navbar-ex1-collapse\">\n");
      out.write("                    <ul class=\"nav navbar-nav side-nav\">\n");
      out.write("                        <!--<li ><a href=\"home_page.jsp\"><i class=\"fa fa-bullseye\"></i> New Claim &nbsp;(Individual)</a></li>--> \n");
      out.write("\n");
      out.write("                        <li><a href=\"home_page.jsp\"><i class=\"fa fa-tasks\"></i> Claim History</a></li>       \n");
      out.write("                        <li class=\"active\"><a href=\"home_page_claim_add.jsp\" onclick=\"newclaim()\"><i class=\"fa fa-bullseye\"></i> New Claim  </a></li>\n");
      out.write("\n");
      out.write("                    </ul>\n");
      out.write("                    <ul class=\"nav navbar-nav navbar-right \">\n");
      out.write("                        <li class=\"dropdown messages-dropdown\">\n");
      out.write("                            <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\"><i class=\"fa fa-envelope\"></i> Notification <span class=\"badge\">2</span> <b class=\"caret\"></b></a>\n");
      out.write("                            <ul class=\"dropdown-menu\">\n");
      out.write("                                <li class=\"dropdown-header\">2 Notification</li>\n");
      out.write("                                <li class=\"message-preview\">\n");
      out.write("                                    <a href=\"#\">\n");
      out.write("                                        <span class=\"avatar\"><i class=\"fa fa-bell\"></i></span>\n");
      out.write("                                        <span class=\"message\">Notification 01</span>\n");
      out.write("                                    </a>\n");
      out.write("                                </li>\n");
      out.write("                                <li class=\"divider\"></li>\n");
      out.write("                                <li class=\"message-preview\">\n");
      out.write("                                    <a href=\"#\">\n");
      out.write("                                        <span class=\"avatar\"><i class=\"fa fa-bell\"></i></span>\n");
      out.write("                                        <span class=\"message\">Notification 02</span>\n");
      out.write("                                    </a>\n");
      out.write("                                </li>\n");
      out.write("                                <li class=\"divider\"></li>\n");
      out.write("                                <li><a href=\"#\">Go to View Notification <span class=\"badge\">2</span></a></li>\n");
      out.write("                            </ul>\n");
      out.write("                        </li>\n");
      out.write("                        <li class=\"dropdown user-dropdown\">\n");
      out.write("                            <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\"><i class=\"fa fa-user\"></i>&nbsp; ");
      out.print( e.getfName());
      out.write("<b class=\"caret\"></b></a>\n");
      out.write("                            <ul class=\"dropdown-menu\">\n");
      out.write("                                <li><a href=\"edit_profile.jsp\"><i class=\"fa fa-user\"></i> Edit Profile</a></li>\n");
      out.write("\n");
      out.write("                                <li class=\"divider\"></li>\n");
      out.write("                                <form action=\"Logout\" method=\"post\" >\n");
      out.write("                                    <li> <button type=\"submit\" class=\"btn  button \">\n");
      out.write("                                            <i class=\"fa fa-power-off\"></i> \n");
      out.write("                                            Logout</button> </li>   \n");
      out.write("\n");
      out.write("                                </form>\n");
      out.write("                            </ul>\n");
      out.write("                        </li>\n");
      out.write("                    </ul>\n");
      out.write("                </div>\n");
      out.write("            </nav>\n");
      out.write("            <!-- End of nav Bar-->\n");
      out.write("\n");
      out.write("            <!-- Start of content of the page-->\n");
      out.write("\n");
      out.write("            <div id=\"page-wrapper\">\n");
      out.write("                <div class=\"row\">\n");
      out.write("                    <div class=\"col-lg-12\">\n");
      out.write("                        <h1>New Claim Request <small>&nbsp; </small></h1>\n");
      out.write("\n");
      out.write("                        <div class=\"alert alert-success alert-dismissable\">                         <!-- Alert massage-->\n");
      out.write("                            <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">&times;</button>\n");
      out.write("                            Welcome to the admin dashboard! Feel free to review all pages and modify the layout to your needs. \n");
      out.write("                            For the purpose of data visualization, additional widgets are used, so make sure you review all provided information.\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("                <div class=\"row\">\n");
      out.write("\n");
      out.write("                    <div class=\"col-lg-12\"> \n");
      out.write("                        <h3 class=\"text-center\">Claim Form</h3> <hr>\n");
      out.write("                    </div>\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("                    <!-- Claim form Start point-->                   \n");
      out.write("                    <form  action=\"AddClaim\" class=\"form-control-static marginedit\" name=\"myClaimForm\" method=\"post\" ><!--Start point of form-->\n");
      out.write("\n");
      out.write("                        <div class=\"row  margin_form\"><!-- radoi button for individual or goup claim -->\n");
      out.write("                            <div class=\"col-md-12\">\n");
      out.write("                                <div class=\"col-md-3\">\n");
      out.write("                                    <label class=\"label label_1 \" ><input type=\"radio\" name=\"claim_group\" id=\"individualClaim\" onclick=\"hideEmployeeDetails()\" value=\"individualClaim\" checked=\"checked\"  >&nbsp;&nbsp;Individual Claim</label>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"col-md-3\">\n");
      out.write("                                    <label class=\"label label_1 \" ><input type=\"radio\" name=\"claim_group\" id=\"grupClaim\" onclick=\"addEmployeDetails()\" value=\"groupClaim\">&nbsp;&nbsp;Group Claim</label>\n");
      out.write("\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("\n");
      out.write("                        <div class=\"row  margin_form\"><!-- row number 1 -->\n");
      out.write("\n");
      out.write("                            <div class=\"col-md-6\">\n");
      out.write("                                <!--      <div class=\"col-md-2\"></div>-->\n");
      out.write("                                <div class=\"col-md-4\">\n");
      out.write("                                    <label id=\"bulk_id\" class=\"label  label_1  \">Claim ID &nbsp;:</label>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"col-md-2\">\n");
      out.write("                                    <div class=\"input-group\">\n");
      out.write("\n");
      out.write("                                        <input name=\"claimid\" id=\"bulk_id\" class=\"form-control input-lg\" readonly value=\"");
      out.print( c.getClaimId());
      out.write("\" > </input>\n");
      out.write("\n");
      out.write("                                    </div>\t\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                            <!-- <div class=\"col-md-6 \">\n");
      out.write("                                 <div class=\"col-md-4\">\n");
      out.write("                                     <label id=\"claim_id\" class=\"label label_1  \">Claim ID &nbsp;:</label>\n");
      out.write("                                 </div>\n");
      out.write("                                 <div class=\"col-md-4\">\n");
      out.write(" \n");
      out.write("                                     <label id=\"claim_id \" class=\"label  label_1  label-default\">001</label>\n");
      out.write(" \n");
      out.write(" \n");
      out.write("                                 </div>\n");
      out.write("                             </div>-->\n");
      out.write("\n");
      out.write("                        </div>  <!--end of row number 1-->\n");
      out.write("\n");
      out.write("                        <div class=\"row margin_form\" ><!-- row number 2 -->\n");
      out.write("\n");
      out.write("                            <div class=\"col-md-6\">\n");
      out.write("                                <!--                 <div class=\"col-md-2\"></div>-->\n");
      out.write("                                <div class=\"col-md-4\">\n");
      out.write("                                    <label id=\"type_of_claim\" class=\"label  label_1\">Bill Type &nbsp;:</label>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"col-md-7 \">\n");
      out.write("\n");
      out.write("                                    <div id=\"foodDiv\">\n");
      out.write("                                        <label class=\"label label_1 \" >\n");
      out.write("                                            <input onclick=\"showMealsType()\" type=\"radio\" checked name=\"type_of_claim\" id=\"type_of_claim_food\" value=\"Food\" >&nbsp;&nbsp;Food</label>\n");
      out.write("                                    </div>\n");
      out.write("                                    <div id=\"internetDiv\"> \n");
      out.write("                                        <label class=\"label label_1 \" id=\"labelInternet\" >\n");
      out.write("                                            <input onclick=\"hideMealsType()\" type=\"radio\" name=\"type_of_claim\" id=\"type_of_claim_internet\" value=\"Internet\" >&nbsp;&nbsp;Internet</label>\n");
      out.write("                                    </div>\n");
      out.write("                                    <div id=\"otherDiv\"> \n");
      out.write("                                        <label class=\"label label_1 \" id=\"otherlabel\" >\n");
      out.write("                                            <input onclick=\"otherType()\" type=\"radio\" name=\"type_of_claim\" id=\"type_of_claim_other\" value=\"other\"  >&nbsp;&nbsp;Other</label>\n");
      out.write("                                    </div>\n");
      out.write("\n");
      out.write("                                    <!-- <select id=\"type_of_claim\" name=\"type_of_claim\" class=\"dropdown_signup form-control\" placeholder=\"Claim Type\" style=\"height:37px;\">\n");
      out.write("                                          <option value=\"Null\">~~Select~~</option>\n");
      out.write("                                          <option value=\"Food Bills\"> Food Bills</option>\n");
      out.write("                                          <option value=\"Internet Bills\"> Internet Bills</option>\n");
      out.write("  \n");
      out.write("                                      </select>-->\n");
      out.write("\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                            <div class=\"col-md-6\" id=\"setOptinal\" style=\"display: none;\"> <!-- set here the optional div-->\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                            <div class=\"col-md-6\" id=\"mealsType\">\n");
      out.write("                                <div class=\"col-md-4\">\n");
      out.write("                                    <label id=\"project\" class=\"label  label_1\">Meals Type &nbsp;&nbsp;&nbsp;:</label>\n");
      out.write("                                </div> \n");
      out.write("                                <div class=\"col-md-7\">\n");
      out.write("                                    <div >\n");
      out.write("                                        <label class=\"label label_1 \" ><input type=\"radio\" name=\"food_type\" id=\"breakfast\" value=\"breakfast\"  >&nbsp;&nbsp;Breakfast</label>\n");
      out.write("                                    </div>\n");
      out.write("                                    <div >\n");
      out.write("                                        <label class=\"label label_1 \" ><input type=\"radio\" name=\"food_type\" id=\"lunch\"  value=\"lunch\">&nbsp;&nbsp;Lunch</label>\n");
      out.write("                                    </div >\n");
      out.write("                                    <div  >\n");
      out.write("                                        <label class=\"label label_1 \" ><input type=\"radio\" name=\"food_type\" id=\"dinner\"  value=\"Dinner\">&nbsp;&nbsp;Dinner</label>\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                        </div>  <!--end of row number 2-->\n");
      out.write("\n");
      out.write("                        <div id=\"optionalClaimType\" style=\"display:none;\"><!-- Optional div -->\n");
      out.write("\n");
      out.write("                            <div class=\"col-md-4\">\n");
      out.write("                                <label id=\"project\" class=\"label  label_1\">Optional Type &nbsp;:</label>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"col-md-7  \">\n");
      out.write("                                <input name=\"OptinalClaim\" class=\"form-control input-lg\" type=\"text\" placeholder=\"New Claim Type\"  >\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                        </div>\n");
      out.write("\n");
      out.write("                        <div class=\"row margin_form\"><!-- row number 3 -->\n");
      out.write("\n");
      out.write("                            <div class=\"col-md-6\">\n");
      out.write("\n");
      out.write("                                <div class=\"col-md-4\">\n");
      out.write("                                    <label id=\"billdate\" class=\"label  label_1\">Bill Date &nbsp;:</label>\n");
      out.write("                                </div>\n");
      out.write("\n");
      out.write("                                <div class=\"col-md-6 input-group \" style=\"padding-left: 15px;\">\n");
      out.write("                                    <input  id=\"bill_date\" name=\"bill_date\" class=\"form-control input-lg\" type=\"text\" placeholder=\"MM/DD/YY\" >\n");
      out.write("                                    <span class=\"input-group-addon\"><i class=\"fa fa-calendar\"></i></span>\n");
      out.write("                                </div>\n");
      out.write("                                <!--<div class=\"col-md-1\">\n");
      out.write("                                    <img src=\"images/calendar (1).png\"alt=\"aaaa\" style=\"height:20px;width:auto;cursor:pointer;\" id=\"calendar\">\n");
      out.write("                                </div>-->\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                            <!--<div class=\"col-md-6\">\n");
      out.write("                                <div class=\"col-md-4\">\n");
      out.write("                                    <label id=\"eventdate\" class=\"label  label_1\">Event Date &nbsp;:</label>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"col-md-5 \">\n");
      out.write("                                    <input  id=\"event_date\" name=\"event_date\" class=\"form-control input-lg\" type=\"text\" placeholder=\"MM/DD/YY\" >\n");
      out.write("\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"col-md-1\">\n");
      out.write("                                    <img src=\"images/calendar (1).png\"alt=\"aaaa\" style=\"height:20px;width:auto;cursor:pointer;\" id=\"calendar_1\">\n");
      out.write("                                </div>\n");
      out.write("\n");
      out.write("                            </div>-->\n");
      out.write("\n");
      out.write("                        </div>  <!--end of row number 3-->\n");
      out.write("\n");
      out.write("                        <div class=\"row margin_form\"><!-- row number 4 -->\n");
      out.write("\n");
      out.write("                            <div class=\"col-md-6\">\n");
      out.write("                                <div class=\"col-md-4\">\n");
      out.write("                                    <label id=\"project\" class=\"label  label_1\">Amount &nbsp;:</label>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"col-md-7  \">\n");
      out.write("                                    <input required name=\"amount\" class=\"form-control input-lg\" type=\"text\" placeholder=\"Amount\"   >\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                            <div class=\"col-md-6\">\n");
      out.write("                                <div class=\"col-md-4\">\n");
      out.write("                                    <label id=\"project\" class=\"label  label_1\">Project &nbsp;&nbsp;&nbsp;&nbsp;:</label>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"col-md-7\">\n");
      out.write("                                    <select id=\"project\" name=\"project\" class=\"dropdown_signup form-control\" placeholder=\"Claim Type\" style=\"height:37px;\">\n");
      out.write("                                        <option value=\"\">~~Select~~</option>\n");
      out.write("                                        ");


                                            DBCollection coll2 = dbcon.getData("projects");
                                            DBCursor cursor2 = coll2.find();

                                            while (cursor2.hasNext()) {// start of while loop 
                                                String list = cursor2.next().get("projname").toString();
                                        
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("                                        <option value=\" ");
      out.print( list);
      out.write('"');
      out.write('>');
      out.print( list);
      out.write("\n");
      out.write("                                        </option>\n");
      out.write("\n");
      out.write("                                        ");
 }
      out.write(" // end of while loop\n");
      out.write("\n");
      out.write("                                    </select>\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                        </div>  <!--end of row number 4-->\n");
      out.write("\n");
      out.write("                        <div class=\"row margin_form\"><!-- row number 5 -->\n");
      out.write("\n");
      out.write("                            <div class=\"col-md-6\">\n");
      out.write("                                <div class=\"col-md-4\">\n");
      out.write("                                    <label id=\"description\" class=\"label  label_1\">Description &nbsp;:</label>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"col-md-7 \">\n");
      out.write("                                    <textarea class=\"form-control input-lg\" name=\"description\" id=\"description\" rows=\"5\"></textarea>\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                            <div class=\"col-md-6\">\n");
      out.write("                                <div class=\"col-md-4\">\n");
      out.write("                                    <label id=\"attachment\" class=\"label  label_1\">Attachment &nbsp;:</label>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"col-md-7 \">\n");
      out.write("                                    <input id=\"attachment\" name=\"attachment\"  type=\"file\"  onchange=\"show_pic(this)\" placeholder=\"Attachment\" >\n");
      out.write("                                    <img style=\"width: 150px; height: auto;\" id=\"reg_pro_pic1\" src=\"images/photo-placeholder.gif\" onchange=\"show_pic(this)\">\n");
      out.write("\n");
      out.write("\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                        </div>  <!--end of row number 5-->                       \n");
      out.write("\n");
      out.write("                        <div class=\"row margin_form\"><!-- additional details of employee grp claim-->\n");
      out.write("\n");
      out.write("                            <div class=\"col-md-12 \"  >\n");
      out.write("\n");
      out.write("                                <div class=\"row margin_form \" ><!-- inside the emplyee details -->\n");
      out.write("\n");
      out.write("                                    <div id=\"setHere\" class=\"col-md-12 \" ></div>\t\n");
      out.write("                                </div>  <!--end of inside the emplyee details-->\n");
      out.write("\n");
      out.write("\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                        </div>  <!--end of row number 5-->\n");
      out.write("\n");
      out.write("                        <div  id=\"emp_details\" style=\"display:none;\">\t <!--Details of employee/run via javascript   strat point-->\n");
      out.write("\n");
      out.write("                            <div class=\"row \" > <!--start of row number 1-->\n");
      out.write("                                <div class=\"col-md-12\"><label class=\"label label_2 text-primary\"> Details of Group Claim</label></div>\n");
      out.write("                            </div> <!--end of row number 1-->\n");
      out.write("\n");
      out.write("                            <div class=\"row margin_form \"> <!--start of row number 2-->\n");
      out.write("\n");
      out.write("                                <div class=\"col-md-12\">\n");
      out.write("                                    <div class=\"col-md-10\">\n");
      out.write("                                        <p class=\"text-danger\">This Details are required for employees who take the group claims</p>\n");
      out.write("                                    </div>\n");
      out.write("\n");
      out.write("\n");
      out.write("                                </div>\n");
      out.write("\n");
      out.write("                            </div><!--end of row number 2-->\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("                            <div class=\"row margin_form\" id=\"employeeDetails\" ><!-- row number 3 in grp claim form-->\n");
      out.write("\n");
      out.write("                                <div class=\"col-md-6\" style=\"padding-top:30px;\">\n");
      out.write("\n");
      out.write("                                    <div class=\"col-md-4\">\n");
      out.write("                                        <label id=\"labelEmpId\" class=\"label  label_1\">Employee ID &nbsp;:</label>\n");
      out.write("                                    </div>\n");
      out.write("                                    <div class=\"col-md-5\">\n");
      out.write("                                        <input name=\"employeesId\" id=\"employeesId\" class=\"form-control input-lg\" type=\"text\" placeholder=\"Employee ID\" >\n");
      out.write("                                    </div>\n");
      out.write("\n");
      out.write("                                    <a class=\"btn btn-primary\" id=\"btn3\" onclick=\"addRow()\"> here to add</a>\n");
      out.write("                                </div>\n");
      out.write("\n");
      out.write("                                <div class=\"col-md-5 thumbnail\">\n");
      out.write("                                    <p class=\"text-primary\">Details of Employee</p>\n");
      out.write("                                    <div class=\"table-responsive col-md-10 col-md-offset-1 \" align=\"center\" >\n");
      out.write("                                        <table class=\"table table-hover\" id=\"myTableData\"   >\n");
      out.write("                                            <thead align=\"center\" class=\"text-primary\"  >\n");
      out.write("\n");
      out.write("                                                <tr>\n");
      out.write("                                                    <td>&nbsp;No </td>\n");
      out.write("                                                    <td>&nbsp;Employee ID </td>\n");
      out.write("                                                    <td></td>\n");
      out.write("\n");
      out.write("                                                </tr>\n");
      out.write("                                            </thead>\n");
      out.write("                                            <tbody id=\"list tbody\" name=\"list tbody\">\n");
      out.write("\n");
      out.write("                                                <tr>\n");
      out.write("                                                </tr>  \n");
      out.write("                                            </tbody>\n");
      out.write("                                        </table>\n");
      out.write("\n");
      out.write("                                    </div>\n");
      out.write("\n");
      out.write("\n");
      out.write("                                </div><!--end  row number 3 in grp claim form-->\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("                            </div>  \n");
      out.write("                        </div>     <!--Details of employee/run via javascript   end point -->\n");
      out.write("\n");
      out.write("                        <div class=\"row\"><!-- row number 5 -->\n");
      out.write("                            <div class=\"col-md-9\"></div>\n");
      out.write("                            <div class=\"col-md-2\">\n");
      out.write("                                <button type=\"submit\" class=\"btn btn-danger active button  \" style=\"margin-top:20px;width:100%; \"  ><!--Add button -->\n");
      out.write("                                    <span class=\"glyphicon glyphicon-th\"></span>&nbsp;Add Claims\n");
      out.write("                                </button>         \t\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"col-md-1\"></div>\n");
      out.write("                        </div>\n");
      out.write("\n");
      out.write("                    </form>\n");
      out.write("                    <!-- End of the claim add form -->\n");
      out.write("\n");
      out.write("\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("                <div class=\"col-md-12\"> \n");
      out.write("                    <hr> <h3 class=\"text-center\">Claim Details</h3> <hr>\n");
      out.write("                </div>\n");
      out.write("                <!-- Claim details table//when add the claim form details,all data are going here-->   \n");
      out.write("\n");
      out.write("                <div class=\"table-responsive margin_form col-md-12 \">\n");
      out.write("\n");
      out.write("                    <table class=\"table table-bordered tableStyle\" >\n");
      out.write("                        <thead align=\"center\" >\n");
      out.write("                            <tr>\n");
      out.write("                                <td>&nbsp;Bill Date</td>\n");
      out.write("                                <td>&nbsp;Claim Type</td>\n");
      out.write("                                <td>&nbsp;Bill Type</td>\n");
      out.write("                                <td>&nbsp;Meal Type</td>\n");
      out.write("                                <td>&nbsp;Project</td>\n");
      out.write("                                <td>&nbsp;Amount</td>\n");
      out.write("                                <td>&nbsp;Option</td>\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("                            </tr>\n");
      out.write("\n");
      out.write("                        </thead>\n");
      out.write("\n");
      out.write("\n");
      out.write("                        <tbody id=\"list tbody\" name=\"list tbody\">\n");
      out.write("\n");
      out.write("                            ");

                                String tableInner = "";
                                DBObject dbo = cursor.next();
                                ArrayList li = (ArrayList) dbo.get("details");
                                try {
                                    Iterator<BasicDBObject> intI = li.iterator();

                                    while (intI.hasNext()) {
                                        BasicDBObject object = intI.next();
                                        System.out.println(object);
                                        Claims cl = Claims.fromDBObject(object);
                                        tableInner += "<tr>";
                                        tableInner += "<td>" + cl.getBillDate() + "</td>";
                                        tableInner += "<td>" + cl.getClaimGroup() + "</td>";
                                        tableInner += "<td>" + cl.getBillType() + "</td>";

                                        tableInner += "<td>" + cl.getMealType() + "</td>";
                                         tableInner += "<td>" + cl.getProject() + "</td>";
                                        tableInner += "<td>" + cl.getAmount() + "</td>";

                                        
                                        tableInner += "</tr>";




                                    }
                                } catch (Exception ed) {
                                }





                            
      out.write("\n");
      out.write("                            ");
      out.print(tableInner);
      out.write("    \n");
      out.write("                        </tbody>\n");
      out.write("                    </table>\n");
      out.write("                </div>\t\n");
      out.write("\n");
      out.write("                <div class=\"row margin_form \" style=\"padding-left: 50px;\"><!-- Submit button -->\n");
      out.write("                    <div class=\"col-md-9\"></div>\n");
      out.write("                    <div class=\"col-md-2\" >\n");
      out.write("                        <button type=\"submit\" class=\"btn btn-primary button pull-right \" style=\"margin-top:10px;width:100%;\"  ><!--Add button -->\n");
      out.write("                            <span class=\"glyphicon glyphicon-th\"></span>&nbsp;Submit\n");
      out.write("                        </button>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"col-md-1\"></div>\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("            </div><!--# page wrapper-->\n");
      out.write("\n");
      out.write("        </div><!--# wrapper-->\n");
      out.write("\n");
      out.write("\n");
      out.write("    </body>\n");
      out.write("</html>\n");
      out.write("\n");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
